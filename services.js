document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelectorAll(".services_item"),t=!1;function r(e){e.classList.add("closed-hover")}function i(e){e.classList.remove("closed-hover")}function s(e){i(e);let t=e.querySelector(".service-content-wrapper"),r=e.querySelector(".services_tags-wrap"),s=e.querySelector(".services-bg-verflow"),o=e.querySelector(".service-close-text");t&&(t.style.opacity="1"),r&&(r.style.opacity="1"),s&&(s.style.opacity="0"),o&&(o.style.opacity="0")}function o(e){let t=e.querySelector(".service-content-wrapper"),r=e.querySelector(".services_tags-wrap"),i=e.querySelector(".services-bg-verflow"),s=e.querySelector(".service-close-text");t&&(t.style.opacity="0"),r&&(r.style.opacity="0"),i&&(i.style.opacity="1"),s&&(s.style.opacity="1")}function c(e){t=!0,i(e);let r=e.querySelector(".service-content-wrapper"),s=e.querySelector(".services_tags-wrap"),o=e.querySelector(".services-bg-verflow"),c=e.querySelector(".service-close-text");r&&(r.style.opacity="1"),s&&(s.style.opacity="1"),o&&(o.style.opacity="0"),c&&(c.style.opacity="0");let l=e.offsetHeight;e.style.height="auto";let n=e.scrollHeight;e.style.height=l+"px",y(e,l,n,!0,()=>{e.style.height="auto",t=!1})}function l(e){t=!0,r(e);let i=e.querySelector(".service-content-wrapper"),s=e.querySelector(".services_tags-wrap"),o=e.querySelector(".services-bg-verflow"),c=e.querySelector(".service-close-text");i&&(i.style.opacity="0"),s&&(s.style.opacity="0"),o&&(o.style.opacity="1"),c&&(c.style.opacity="1");let l=e.offsetHeight,n=e.querySelector(".service-trigger-wrapper");y(e,l,n?n.getBoundingClientRect().height:132,!1,()=>{t=!1})}function y(e,t,r,i,s){function o(t){"height"===t.propertyName&&(e.style.transition="",i&&(e.style.height="auto"),e.removeEventListener("transitionend",o),s&&s())}e.style.height=t+"px",e.style.transition="height 0.75s ease-in-out",requestAnimationFrame(()=>{e.style.height=r+"px"}),e.addEventListener("transitionend",o)}e.forEach((e,t)=>{if(window.innerWidth<768){e.style.height="auto",0===t?s(e):(r(e),o(e));return}if(0===t)e.style.height="auto",s(e);else{let i=e.querySelector(".service-trigger-wrapper"),c=i?i.getBoundingClientRect().height:132;e.style.height=`${c}px`,r(e),o(e)}}),e.forEach(r=>{r.addEventListener("click",()=>{t||"auto"===r.style.height||""===r.style.height||(e.forEach(e=>{e!==r&&l(e)}),c(r))})})});
