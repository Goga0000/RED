<script>function easeOut(t){return 1-Math.pow(1-t,2)}function setInitialStyles(){document.querySelectorAll(".blur-scroll-trigger, .page-load-blur").forEach(t=>{"false"!==t.getAttribute("blur")?t.style.filter="blur(20px)":t.style.filter="","true"===t.getAttribute("transform")?t.style.transform="translateY(10px)":t.style.transform="",delete t.dataset.blurAnimated})}function animateElement(t){let e=parseInt(t.getAttribute("duration"))||700,l=parseInt(t.getAttribute("delay"))||0,r="true"===t.getAttribute("op"),n="true"===t.getAttribute("transform"),i="false"!==t.getAttribute("blur"),a=null;function o(l){a||(a=l);let s=l-a,u=Math.min(s/e,1),d=easeOut(u);i&&(t.style.filter=`blur(${20*(1-d)}px)`),r&&(t.style.opacity=d),n&&(t.style.transform=`translateY(${10*(1-d)}px)`),u<1?requestAnimationFrame(o):(i&&(t.style.filter=""),r&&(t.style.opacity=1),n&&(t.style.transform=""))}t.dataset.blurAnimated="done",setTimeout(()=>requestAnimationFrame(o),l)}function isElementTopInBottomViewport(t){let e=t.getBoundingClientRect(),l=.8*window.innerHeight;return e.top>=l&&e.top<window.innerHeight}function handleScrollBlur(){document.querySelectorAll(".blur-scroll-trigger").forEach(t=>{!t.dataset.blurAnimated&&isElementTopInBottomViewport(t)&&animateElement(t)})}function showVisibleAndAboveTriggerElements(){let t=.8*window.innerHeight;document.querySelectorAll(".blur-scroll-trigger, .page-load-blur").forEach(e=>{let l=e.getBoundingClientRect();l.bottom>0&&l.top<window.innerHeight?e.dataset.blurAnimated||animateElement(e):l.top<t&&!e.dataset.blurAnimated&&animateElement(e)})}document.addEventListener("DOMContentLoaded",()=>{setInitialStyles(),showVisibleAndAboveTriggerElements()}),window.addEventListener("load",()=>{showVisibleAndAboveTriggerElements(),handleScrollBlur()}),window.addEventListener("scroll",handleScrollBlur),window.addEventListener("resize",handleScrollBlur);</script>
